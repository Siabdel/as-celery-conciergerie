<!DOCTYPE html>
<html lang="fr" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord | Nom Agence</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #FF6B35;
            --secondary: #005E9B;
            --info: #B7D1E5;
            --light: #F8F9FA;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #F5F7FA;
        }
        
        .square-btn {
            width: 100%;
            padding: 1.5rem 0.5rem;
            border-radius: 12px;
            font-weight: 500;
            margin-bottom: 1rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        
        .brand-bg {
            background-color: var(--secondary);
        }
        
        .nav-link {
            color: white !important;
        }
        
        .dashboard-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 1.5rem;
            height: 100%;
        }
        
        .card-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--secondary);
        }
        
        .card-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary);
            margin: 0.5rem 0;
        }
        
        .app-content {
            padding-top: 2rem;
            padding-bottom: 4rem;
        }
        
        .quick-actions {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 1rem;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        
        .quick-actions .col {
            padding: 0 0.5rem;
        }
        
        .btn-orange {
            background-color: var(--primary) !important;
            color: white !important;
            border: none;
            font-weight: 500;
        }
        
        .form-select:focus, .form-control:focus {
            border-color: var(--primary) !important;
            box-shadow: 0 0 0 0.25rem rgba(255,107,53,0.25) !important;
        }
        
        .nav-tabs .nav-link.active {
            color: var(--primary) !important;
            font-weight: bold;
            border-bottom: 3px solid var(--primary);
        }
        
        .nav-tabs .nav-link {
            color: #6c757d !important;
            border: none !important;
            padding: 0.75rem 1rem;
            font-size: 0.95rem;
        }
        
        @media (min-width: 768px) {
            .app-content {
                padding-bottom: 2rem;
            }
            
            .quick-actions {
                position: static;
                box-shadow: none;
                padding: 1rem 0;
            }
            
            .table-container {
                max-height: 400px;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body>
    <!-- En-tête -->
    <header class="navbar navbar-expand-lg brand-bg sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="path/to/logo.png" alt="Logo" height="40" class="d-inline-block align-text-top me-2">
                <span class="text-white d-none d-md-inline">Mon Agence</span>
            </a>
            
            <div class="d-flex">
                <button class="btn d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#rightSidebar">
                    <i class="fas fa-ellipsis-v text-white"></i>
                </button>
                <div class="offcanvas offcanvas-end" tabindex="-1" id="rightSidebar">
                    <div class="offcanvas-body">
                        <div class="d-flex flex-column h-100">
                            <button type="button" class="btn-close text-end" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                            <ul class="navbar-nav ms-auto align-items-end">
                                <li class="nav-item">
                                    <a class="nav-link py-2" href="#"><i class="fas fa-home me-2"></i>Accueil</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link py-2" href="#"><i class="fas fa-calendar-alt me-2"></i>Calendrier</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link py-2" href="#"><i class="fas fa-building me-2"></i>Biens</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link py-2" href="#"><i class="fas fa-users me-2"></i>Clients</a>
                                </li>
                            </ul>
                            <div class="mt-auto">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="position-relative">
                                        <i class="fas fa-bell text-white fs-4 me-2"></i>
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                            3
                                        </span>
                                    </div>
                                    <div class="ms-3">
                                        <p class="text-white mb-0">Admin Agence</p>
                                        <small class="text-light">Administrateur</small>
                                    </div>
                                </div>
                                <button class="btn btn-sm btn-outline-light w-100">
                                    <i class="fas fa-cog me-1"></i> Paramètres
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container app-content">
        <div class="row">
            <div class="col-12 mb-4">
                <h1 class="h2">Bonjour Admin,</h1>
                <p class="mb-0 text-muted">Bienvenue sur votre tableau de bord</p>
            </div>
            
            <!-- Cartes récapitulatives -->
            <div class="col-12 mb-4">
                <div class="row g-4" id="recapCards">
                    <!-- Cartes injectées via JS -->
                </div>
            </div>
            
            <!-- Onglets et tableau -->
            <div class="col-12">
                <div class="card dashboard-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div class="d-flex">
                                <h2 class="h5 mb-0 me-3">Les arrivées / départs</h2>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="autoRefresh" checked>
                                    <label class="form-check-label text-muted small" for="autoRefresh">Actualisation auto</label>
                                </div>
                            </div>
                            <div class="d-flex">
                                <div class="input-group input-group-sm me-2" style="width: 180px;">
                                    <input type="text" class="form-control form-control-sm" placeholder="Rechercher...">
                                    <button class="btn btn-outline-secondary" type="button"><i class="fas fa-search"></i></button>
                                </div>
                                <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-filter"></i> Filtres</button>
                            </div>
                        </div>

                        <ul class="nav nav-tabs mb-3" id="tabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="today-tab" data-bs-toggle="tab" data-bs-target="#today" type="button" role="tab" aria-controls="today" aria-selected="true">Aujourd'hui <span class="badge bg-primary ms-2" id="todayCount">6</span></button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tomorrow-tab" data-bs-toggle="tab" data-bs-target="#tomorrow" type="button" role="tab" aria-controls="tomorrow" aria-selected="false">Demain <span class="badge bg-secondary ms-2" id="tomorrowCount">12</span></button>
                            </li>
                        </ul>

                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead class="table-light">
                                    <tr>
                                        <th>Réservation</th>
                                        <th>Client</th>
                                        <th>Bien</th>
                                        <th>Type</th>
                                        <th>Heure</th>
                                        <th>Statut</th>
                                        <th class="text-end">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="reservationsContent">
                                    <!-- Contenu injecté via JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Graphique d'occupation -->
            <div class="col-md-6 col-lg-4 mt-4">
                <div class="card dashboard-card h-100">
                    <div class="card-body">
                        <h2 class="h5 card-title mb-3">Taux d'occupation</h2>
                        <canvas id="occupancyChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Dernières réservations -->
            <div class="col-md-6 col-lg-4 mt-4">
                <div class="card dashboard-card h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h2 class="h5 card-title mb-0">Réservations en cours</h2>
                        </div>
                        <div id="currentBookings" class="list-group list-group-flush" style="height: 250px; overflow-y: auto;">
                            <!-- Contenu injecté via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Service à faire -->
            <div class="col-md-12 col-lg-4 mt-4">
                <div class="card dashboard-card h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h2 class="h5 card-title mb-0">Services à faire <span class="badge bg-primary">3</span></h2>
                            <a href="#" class="btn btn-sm btn-link text-decoration-none">Tout voir</a>
                        </div>
                        <div id="servicesToDo" class="list-group list-group-flush">
                            <!-- Contenu injecté via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Actions rapides -->
    <div class="quick-actions d-lg-block d-none">
        <div class="container">
            <div class="row g-3">
                <div class="col">
                    <a href="#" class="btn btn-lg btn-primary w-100 position-relative">
                        + Nouvelle réservation
                    </a>
                </div>
                <div class="col">
                    <a href="#" class="btn btn-lg btn-secondary w-100 position-relative">
                        + Nouveau service
                    </a>
                </div>
                <div class="col">
                    <a href="calendar.html" class="btn btn-lg btn-outline-secondary w-100">
                        Voir le calendrier complet
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- CDN JS -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
    <script>
        // Fake data
        const recapData = {
            activeProperties: 24,
            checkInsToday: 8,
            checkOutsToday: 5,
            servicesToday: 12,
            totalRevenue: '€5,230.50'
        }

        $(document).ready(function() {
            // Injecter les cartes récapitulatives
            const recapCards = [{
                    icon: 'building',
                    title: 'Biens actifs',
                    value: recapData.activeProperties
                },
                {
                    icon: 'sign-in-alt',
                    title: 'Check-ins à faire',
                    value: recapData.checkInsToday
                },
                {
                    icon: 'sign-out-alt',
                    title: 'Départs',
                    value: recapData.checkOutsToday
                },
                {
                    icon: 'broom',
                    title: 'Services à faire',
                    value: recapData.servicesToday
                }
            ]

            function renderRecapCards() {
                let html = ''
                recapCards.forEach(card => {
                    html += `
                        <div class="col-12 col-sm-6 col-lg-3">
                            <div class="card dashboard-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-${card.icon} fa-2x mb-2" style="color: #005E9B;"></i>
                                    <h3 class="card-value">${card.value}</h3>
                                    <p class="card-text text-muted">${card.title}</p>
                                </div>
                            </div>
                        </div>
                    `
                })
                $('#recapCards').html(html)
            }

            renderRecapCards()
            
            // Initialisation de Vue.js
            const { createApp, ref } = Vue
            
            createApp({
                data() {
                    return {
                        reservations: [
                            { id: 1, client: "Dupont Martin", ref: "RES-2023-089", property: "Appartement #5", type: "Check-in", time: "14h00", status: "en attente" },
                            { id: 2, client: "Lefevre Sophie", ref: "RES-2023-090", property: "Maison des Pins", type: "Ménage", time: "11h30", status: "en cours" },
                            // Autres réservations...
                        ]
                    }
                }
            }).mount('#app')
        })

    </script>
</body>
</html>
